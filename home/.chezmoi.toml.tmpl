{{/* boolean feature tags */}}
{{- $corporate := false -}}{{/* true if this machine should have corporate configuration (proxy, private registries) */}}
{{- "" -}}

{{- if stdinIsATTY -}}
{{-   if hasKey . "corporate" -}}
{{-     $corporate = .corporate -}}
{{-   else -}}
{{-     $corporate = promptBool "corporate" -}}
{{-   end -}}
{{- end -}}

[data.git]
name = "Anthony Roussel"
email = "anthony.roussel17@gmail.com"
signingkey = "291831CAD18D76DC0715465F379FF498F4BDCCD9"

{{- if $corporate }}
[data.proxy]
http = "http://localhost:3128"
https = "http://localhost:3128"
exclusions = [
  "localhost",
  "127.0.0.0/8",
  "10.0.0.0/8",
  "172.16.0.0/12",
  "192.168.0.0/16"
]

[data.npmrc]
registry = "http://localhost:8080"
always_auth = true
registries = """
"""
{{- end }}

[data.docker]
creds_store = "secretservice"
